# ðŸ”„ é€ ä»·å®¡è®¡ç³»ç»Ÿ - å¼€å‘è°ƒè¯•éƒ¨ç½²å®Œæ•´æµç¨‹

> ðŸ“ å¦‚ä½•åœ¨æœ¬åœ°å¼€å‘è°ƒè¯•ï¼Œç„¶åŽåŒæ­¥åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨

---

## ðŸ“š ç›®å½•

1. [å¼€å‘æµç¨‹æ€»è§ˆ](#å¼€å‘æµç¨‹æ€»è§ˆ)
2. [æœ¬åœ°å¼€å‘çŽ¯å¢ƒ](#æœ¬åœ°å¼€å‘çŽ¯å¢ƒ)
3. [ä»£ç åŒæ­¥æ–¹æ³•](#ä»£ç åŒæ­¥æ–¹æ³•)
4. [æ›´æ–°éƒ¨ç½²æµç¨‹](#æ›´æ–°éƒ¨ç½²æµç¨‹)
5. [ç‰ˆæœ¬ç®¡ç†å»ºè®®](#ç‰ˆæœ¬ç®¡ç†å»ºè®®)
6. [å¸¸è§åœºæ™¯å¤„ç†](#å¸¸è§åœºæ™¯å¤„ç†)

---

## å¼€å‘æµç¨‹æ€»è§ˆ

### ðŸŽ¯ æ ‡å‡†å¼€å‘æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®Œæ•´å¼€å‘æµç¨‹å›¾                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

      æœ¬åœ°å¼€å‘çŽ¯å¢ƒ                     äº‘æœåŠ¡å™¨çŽ¯å¢ƒ
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              â”‚                â”‚              â”‚
    â”‚  ðŸ“ ç¼–å†™ä»£ç   â”‚                â”‚              â”‚
    â”‚  ðŸ› æœ¬åœ°è°ƒè¯•  â”‚                â”‚  ðŸŒ ç”Ÿäº§çŽ¯å¢ƒ  â”‚
    â”‚  âœ… åŠŸèƒ½æµ‹è¯•  â”‚                â”‚  ðŸ‘¥ ç”¨æˆ·ä½¿ç”¨  â”‚
    â”‚              â”‚                â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                               â”‚
           â”‚  â‘  ä»£ç ä¿®æ”¹å®Œæˆ                â”‚
           â”‚  â‘¡ æœ¬åœ°æµ‹è¯•é€šè¿‡                â”‚
           â–¼                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
    â”‚  ðŸ’¾ æäº¤ä»£ç   â”‚                      â”‚
    â”‚  (Git)       â”‚                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
           â”‚                               â”‚
           â”‚  â‘¢ æŽ¨é€åˆ°ä»£ç ä»“åº“              â”‚
           â”‚  (GitHub/Gitee)               â”‚
           â–¼                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
    â”‚  ðŸ“¦ ä»£ç ä»“åº“  â”‚                      â”‚
    â”‚  (GitHub)    â”‚                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
           â”‚                               â”‚
           â”‚  â‘£ SSHè¿žæŽ¥äº‘æœåŠ¡å™¨             â”‚
           â”‚  â‘¤ æ‹‰å–æœ€æ–°ä»£ç                â”‚
           â”‚  â‘¥ é‡æ–°æž„å»ºéƒ¨ç½²               â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### âœ¨ æŽ¨èå·¥ä½œæµç¨‹

```
ç¬¬ä¸€æ­¥: æœ¬åœ°å¼€å‘
  â”œâ”€ åœ¨ä½ çš„Macç”µè„‘ä¸Šä¿®æ”¹ä»£ç 
  â”œâ”€ ä½¿ç”¨Dockerå¯åŠ¨æœ¬åœ°çŽ¯å¢ƒæµ‹è¯•
  â”œâ”€ ç¡®ä¿åŠŸèƒ½æ­£å¸¸ï¼Œæ²¡æœ‰bug
  â””â”€ æäº¤ä»£ç åˆ°Gitä»“åº“

ç¬¬äºŒæ­¥: ä»£ç åŒæ­¥
  â”œâ”€ æŽ¨é€ä»£ç åˆ°GitHub/Gitee
  â””â”€ æˆ–ç›´æŽ¥ç”¨FTPä¸Šä¼ åˆ°æœåŠ¡å™¨

ç¬¬ä¸‰æ­¥: æœåŠ¡å™¨éƒ¨ç½²
  â”œâ”€ SSHè¿žæŽ¥åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨
  â”œâ”€ æ‹‰å–æœ€æ–°ä»£ç 
  â”œâ”€ é‡æ–°æž„å»ºå¹¶é‡å¯æœåŠ¡
  â””â”€ éªŒè¯åŠŸèƒ½æ­£å¸¸
```

---

## æœ¬åœ°å¼€å‘çŽ¯å¢ƒ

### 1. æœ¬åœ°çŽ¯å¢ƒé…ç½®

ä½ çš„Macç”µè„‘å·²ç»æœ‰æœ¬åœ°å¼€å‘çŽ¯å¢ƒï¼Œç»§ç»­ä½¿ç”¨å³å¯ï¼š

#### å½“å‰æœ¬åœ°çŽ¯å¢ƒ

```bash
# ä½ çŽ°åœ¨çš„å¼€å‘ç›®å½•
/Users/crj/Documents/code/uma-audit5/

# æœ¬åœ°è¿è¡Œæ–¹å¼
cd /Users/crj/Documents/code/uma-audit5
./start.sh  # æˆ–å…¶ä»–å¯åŠ¨è„šæœ¬
```

#### æœ¬åœ°è®¿é—®åœ°å€

```
å‰ç«¯: http://localhost:3000
åŽç«¯: http://localhost:8000
APIæ–‡æ¡£: http://localhost:8000/docs
```

### 2. æœ¬åœ°å¼€å‘æµç¨‹

```bash
# 1. ä¿®æ”¹ä»£ç 
# ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ (VSCode, Cursorç­‰)
# ä¿®æ”¹ backend/ æˆ– frontend/ ä¸­çš„æ–‡ä»¶

# 2. å¯åŠ¨æœ¬åœ°æœåŠ¡
./start.sh

# 3. æµè§ˆå™¨è®¿é—®æµ‹è¯•
# http://localhost:3000

# 4. æŸ¥çœ‹æ—¥å¿—è°ƒè¯•
docker-compose logs -f

# 5. æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸
# - ç™»å½•ç³»ç»Ÿ
# - æµ‹è¯•ä¿®æ”¹çš„åŠŸèƒ½
# - ç¡®ä¿æ²¡æœ‰é”™è¯¯

# 6. åœæ­¢æœåŠ¡
./stop.sh
```

### 3. æœ¬åœ°æµ‹è¯•æ£€æŸ¥æ¸…å•

```
ä¿®æ”¹å®ŒæˆåŽï¼Œè¯·æ£€æŸ¥:

å‰ç«¯ä¿®æ”¹:
  â˜ é¡µé¢æ˜¾ç¤ºæ­£å¸¸
  â˜ æ²¡æœ‰æŽ§åˆ¶å°é”™è¯¯
  â˜ å“åº”å¼å¸ƒå±€æ­£å¸¸
  â˜ ä¸ŽåŽç«¯äº¤äº’æ­£å¸¸

åŽç«¯ä¿®æ”¹:
  â˜ APIæŽ¥å£æµ‹è¯•é€šè¿‡
  â˜ æ•°æ®åº“æ“ä½œæ­£å¸¸
  â˜ æ²¡æœ‰Pythoné”™è¯¯
  â˜ æ—¥å¿—æ²¡æœ‰å¼‚å¸¸

å…¨é¢æµ‹è¯•:
  â˜ æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•é€šè¿‡
  â˜ æ–°åŠŸèƒ½å·¥ä½œæ­£å¸¸
  â˜ æ—§åŠŸèƒ½æ²¡æœ‰è¢«ç ´å
  â˜ æ€§èƒ½æ²¡æœ‰æ˜Žæ˜¾ä¸‹é™
```

---

## ä»£ç åŒæ­¥æ–¹æ³•

### æ–¹å¼ä¸€: Gitç‰ˆæœ¬ç®¡ç† (å¼ºçƒˆæŽ¨èâ­â­â­â­â­)

è¿™æ˜¯æœ€ä¸“ä¸šã€æœ€å®‰å…¨çš„æ–¹å¼ï¼

#### 1ï¸âƒ£ é¦–æ¬¡é…ç½®Git

```bash
# åœ¨æœ¬åœ°é¡¹ç›®ç›®å½•
cd /Users/crj/Documents/code/uma-audit5

# åˆå§‹åŒ–Gitä»“åº“ (å¦‚æžœè¿˜æ²¡æœ‰)
git init

# é…ç½®ç”¨æˆ·ä¿¡æ¯
git config user.name "ä½ çš„åå­—"
git config user.email "your@email.com"

# åˆ›å»º.gitignoreæ–‡ä»¶ (å¿½ç•¥ä¸éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶)
cat > .gitignore << 'EOF'
# Python
__pycache__/
*.py[cod]
*.so
.Python
env/
venv/
*.egg-info/
.pytest_cache/

# Node
node_modules/
dist/
.npm
.cache/

# çŽ¯å¢ƒå˜é‡å’Œå¯†é’¥ (é‡è¦ï¼)
.env
.env.production
*.pem
*.key
*.crt

# æ•°æ®åº“å’Œä¸Šä¼ æ–‡ä»¶
*.db
*.sqlite
uploads/
logs/
backups/

# IDE
.vscode/
.idea/
*.swp
*.swo

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db

# Docker
postgres_data/
redis_data/
EOF
```

#### 2ï¸âƒ£ åˆ›å»ºGitHub/Giteeä»“åº“

**ä½¿ç”¨GitHub**:
1. è®¿é—® https://github.com/
2. ç‚¹å‡» "New repository"
3. ä»“åº“å: `uma-audit-system`
4. è®¾ç½®ä¸º **Private** (ç§æœ‰ä»“åº“ï¼Œä¿æŠ¤ä»£ç )
5. ç‚¹å‡» "Create repository"

**ä½¿ç”¨Gitee** (å›½å†…è®¿é—®æ›´å¿«):
1. è®¿é—® https://gitee.com/
2. ç‚¹å‡» "æ–°å»ºä»“åº“"
3. ä»“åº“å: `uma-audit-system`
4. è®¾ç½®ä¸º **ç§æœ‰**
5. ç‚¹å‡» "åˆ›å»º"

#### 3ï¸âƒ£ å…³è”è¿œç¨‹ä»“åº“

```bash
# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# ç¬¬ä¸€æ¬¡æäº¤
git commit -m "åˆå§‹æäº¤ï¼šé€ ä»·å®¡è®¡ç³»ç»Ÿ"

# å…³è”è¿œç¨‹ä»“åº“ (é€‰æ‹©ä¸€ä¸ª)
# GitHub:
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/uma-audit-system.git

# æˆ– Gitee:
git remote add origin https://gitee.com/ä½ çš„ç”¨æˆ·å/uma-audit-system.git

# æŽ¨é€åˆ°è¿œç¨‹
git push -u origin main
```

#### 4ï¸âƒ£ æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# ä¿®æ”¹ä»£ç åŽ...

# æŸ¥çœ‹ä¿®æ”¹äº†å“ªäº›æ–‡ä»¶
git status

# æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æäº¤ä¿®æ”¹ (å†™æ¸…æ¥šæ”¹äº†ä»€ä¹ˆ)
git commit -m "ä¿®å¤ï¼šä»·æ ¼åˆ†æžåŠŸèƒ½çš„è®¡ç®—é”™è¯¯"

# æŽ¨é€åˆ°è¿œç¨‹ä»“åº“
git push

# å®Œæˆï¼ä»£ç å·²ä¿å­˜åˆ°GitHub/Gitee
```

#### 5ï¸âƒ£ åœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–ä»£ç 

```bash
# SSHè¿žæŽ¥åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨
ssh root@ä½ çš„æœåŠ¡å™¨IP

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/uma-audit5

# é¦–æ¬¡å…‹éš† (åªéœ€è¦ä¸€æ¬¡)
# git clone https://github.com/ä½ çš„ç”¨æˆ·å/uma-audit-system.git .

# ä»¥åŽæ¯æ¬¡æ‹‰å–æœ€æ–°ä»£ç 
git pull

# é‡æ–°æž„å»ºéƒ¨ç½²
docker-compose -f docker-compose.prod.yml up -d --build
```

---

### æ–¹å¼äºŒ: FTP/SFTPç›´æŽ¥ä¸Šä¼  (ç®€å•å¿«é€Ÿâ­â­â­â­)

é€‚åˆå°æ”¹åŠ¨ï¼Œä¸æƒ³ç”¨Gitçš„æƒ…å†µã€‚

#### Windows - ä½¿ç”¨WinSCP

```
1. æ‰“å¼€WinSCP
2. è¿žæŽ¥åˆ°æœåŠ¡å™¨
3. å·¦ä¾§: æœ¬åœ°ä¿®æ”¹çš„æ–‡ä»¶
4. å³ä¾§: æœåŠ¡å™¨å¯¹åº”ç›®å½•
5. ç›´æŽ¥æ‹–æ‹½ä¸Šä¼ 
6. SSHæ‰§è¡Œé‡å¯å‘½ä»¤
```

#### Mac - ä½¿ç”¨scpå‘½ä»¤

```bash
# ä¸Šä¼ å•ä¸ªæ–‡ä»¶
scp backend/main.py root@æœåŠ¡å™¨IP:/opt/uma-audit5/backend/

# ä¸Šä¼ æ•´ä¸ªç›®å½•
scp -r backend/app root@æœåŠ¡å™¨IP:/opt/uma-audit5/backend/

# ä¸Šä¼ å¤šä¸ªæ–‡ä»¶
scp backend/main.py backend/config.py root@æœåŠ¡å™¨IP:/opt/uma-audit5/backend/
```

#### ä¸Šä¼ åŽé‡å¯æœåŠ¡

```bash
# SSHè¿žæŽ¥æœåŠ¡å™¨
ssh root@æœåŠ¡å™¨IP

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/uma-audit5

# åªä¿®æ”¹äº†ä»£ç ï¼Œä¸éœ€è¦é‡æ–°æž„å»º
docker-compose -f docker-compose.prod.yml restart backend

# å¦‚æžœä¿®æ”¹äº†ä¾èµ–æˆ–Dockerfileï¼Œéœ€è¦é‡æ–°æž„å»º
docker-compose -f docker-compose.prod.yml up -d --build backend
```

---

### æ–¹å¼ä¸‰: ä½¿ç”¨rsyncåŒæ­¥ (é«˜çº§â­â­â­)

é€‚åˆç»å¸¸åŒæ­¥ï¼Œæƒ³è¦è‡ªåŠ¨åŒ–çš„æƒ…å†µã€‚

```bash
# å®‰è£…rsync (Macé€šå¸¸å·²å®‰è£…)
# Windowséœ€è¦å®‰è£…Git Bashæˆ–WSL

# åŒæ­¥æ•´ä¸ªé¡¹ç›® (æŽ’é™¤ä¸éœ€è¦çš„æ–‡ä»¶)
rsync -avz --exclude='node_modules' \
           --exclude='__pycache__' \
           --exclude='.git' \
           --exclude='uploads' \
           --exclude='logs' \
           /Users/crj/Documents/code/uma-audit5/ \
           root@æœåŠ¡å™¨IP:/opt/uma-audit5/

# åˆ›å»ºåŒæ­¥è„šæœ¬
cat > sync-to-server.sh << 'EOF'
#!/bin/bash
echo "å¼€å§‹åŒæ­¥ä»£ç åˆ°æœåŠ¡å™¨..."
rsync -avz --exclude='node_modules' \
           --exclude='__pycache__' \
           --exclude='.git' \
           --exclude='uploads' \
           --exclude='logs' \
           --exclude='.env' \
           ./ root@ä½ çš„æœåŠ¡å™¨IP:/opt/uma-audit5/

echo "åŒæ­¥å®Œæˆï¼"
echo "çŽ°åœ¨éœ€è¦SSHåˆ°æœåŠ¡å™¨é‡å¯æœåŠ¡"
EOF

chmod +x sync-to-server.sh

# ä»¥åŽæ¯æ¬¡åŒæ­¥åªéœ€è¿è¡Œ
./sync-to-server.sh
```

---

## æ›´æ–°éƒ¨ç½²æµç¨‹

### å®Œæ•´æ›´æ–°æµç¨‹

<function_calls>
<invoke name="TodoWrite">
<parameter name="todos">[{"content": "\u521b\u5efa\u672c\u5730\u5f00\u53d1\u73af\u5883\u6307\u5357", "status": "completed", "activeForm": "\u521b\u5efa\u672c\u5730\u5f00\u53d1\u73af\u5883\u6307\u5357"}, {"content": "\u521b\u5efa\u4ee3\u7801\u540c\u6b65\u90e8\u7f72\u6d41\u7a0b\u6587\u6863", "status": "in_progress", "activeForm": "\u521b\u5efa\u4ee3\u7801\u540c\u6b65\u90e8\u7f72\u6d41\u7a0b\u6587\u6863"}, {"content": "\u521b\u5efa\u7248\u672c\u7ba1\u7406\u6307\u5357", "status": "pending", "activeForm": "\u521b\u5efa\u7248\u672c\u7ba1\u7406\u6307\u5357"}, {"content": "\u521b\u5efa\u5feb\u901f\u66f4\u65b0\u811a\u672c", "status": "pending", "activeForm": "\u521b\u5efa\u5feb\u901f\u66f4\u65b0\u811a\u672c"}]